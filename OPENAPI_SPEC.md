# OpenAPI Specification for Element Words API

This directory contains a comprehensive OpenAPI 3.0 specification for the Element Words API.

## Files

- **`openapi.yaml`** - Main OpenAPI specification in YAML format
- **`openapi.json`** - Same specification in JSON format
- **`OPENAPI_SPEC.md`** - This documentation file

## API Overview

The Element Words API converts words into chemical element symbol combinations. For example:
- Input: "hero" → Output: H-Er-O (Hydrogen-Erbium-Oxygen)

### Key Features Documented

1. **Primary Endpoint**: `/api/v1/words/{word}/combinations`
   - Main functionality for finding element combinations
   - Optional support for reversed two-letter symbols
   - Comprehensive examples and error handling

2. **Reference Endpoints**: 
   - `/api/v1/elements` - Get all chemical elements
   - `/api/v1/elements/{symbol}` - Get specific element details

3. **Documentation Endpoints**:
   - `/` and `/api` - HTML API documentation

## Specification Highlights

### Complete Schema Definitions
- **Element**: Chemical element with symbol, name, and atomic number
- **WordCombinations**: Complete word analysis results
- **Solution**: Individual element combination with detailed breakdown
- **SuccessResponse/ErrorResponse**: Standardized response formats

### Comprehensive Error Handling
All possible error codes are documented:
- `MISSING_WORD`, `INVALID_WORD`, `WORD_TOO_LONG`
- `PROCESSING_ERROR`, `ELEMENT_NOT_FOUND`
- `NOT_FOUND`, `METHOD_NOT_ALLOWED`, `INTERNAL_ERROR`

### Rich Examples
- Multiple response examples for different scenarios
- Error response examples for each error type
- Query parameter examples (reversed symbols)

### Validation Rules
- Input validation patterns for element symbols
- Word length limits (50 characters max)
- Proper regex patterns for alphabetic content

## Using the Specification

### With OpenAPI Tools

1. **Swagger UI**: 
   ```bash
   # Serve the spec locally
   npx @apidevtools/swagger-parser serve openapi.yaml
   ```

2. **Postman**: Import either `openapi.yaml` or `openapi.json`

3. **Code Generation**:
   ```bash
   # Generate client code
   openapi-generator generate -i openapi.yaml -g python -o ./client
   openapi-generator generate -i openapi.yaml -g javascript -o ./js-client
   ```

4. **API Documentation**:
   ```bash
   # Generate static docs
   redoc-cli serve openapi.yaml
   ```

### Testing with curl

Based on the specification, here are example API calls:

```bash
# Get all elements
curl "https://elements.chriswilson.app/api/v1/elements"

# Get specific element
curl "https://elements.chriswilson.app/api/v1/elements/H"

# Find word combinations (main feature)
curl "https://elements.chriswilson.app/api/v1/words/hero/combinations"

# Find combinations with reversed symbols
curl "https://elements.chriswilson.app/api/v1/words/hero/combinations?allow_reversed_symbols=true"
```

## Validation

The OpenAPI specification has been validated against:
- ✅ OpenAPI 3.0.3 schema
- ✅ All endpoints match actual API implementation
- ✅ Response schemas match actual API responses
- ✅ Error codes and messages match implementation
- ✅ Parameter validation rules match backend logic

## Server Information

The specification includes both production and development server configurations:
- **Production**: `https://elements.chriswilson.app`
- **Development**: `http://localhost:8080`

## OpenAPI Specification Endpoints ✨

The API now serves the OpenAPI specification directly at these endpoints:

- **`GET /api/v1/openapi.yaml`** - Raw OpenAPI spec in YAML format
- **`GET /api/v1/openapi.json`** - Raw OpenAPI spec in JSON format  
- **`GET /api/v1/docs`** - Interactive Swagger UI documentation

### Quick Access
```bash
# View interactive documentation
open https://elements.chriswilson.app/api/v1/docs

# Download specification files
curl https://elements.chriswilson.app/api/v1/openapi.yaml -o spec.yaml
curl https://elements.chriswilson.app/api/v1/openapi.json -o spec.json
```

## Implementation Notes

This specification was generated by analyzing the actual Python Bottle implementation in `main.py`. It accurately reflects:

- All available endpoints and their behavior
- Complete request/response schemas
- Exact error codes and messages used by the API
- Input validation rules and limits
- CORS support and headers
- Response metadata structure

The specification is ready for use with any OpenAPI-compatible tooling for documentation, testing, or client code generation.